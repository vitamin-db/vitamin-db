language: node_js
sudo: false
node_js:
- '5.6'
services:
- postgresql
addons:
- postgresql: '9.3'
before_script:
- npm install -g knex
- psql -c 'create database test;' -U postgres
- npm run migrate
script:
- npm test
deploy:
  provider: heroku
  api_key:
    secure: QPi3Mv9cgiRmdzaYIdRGAw7KDQwkiT2feC7MA4RVLiJ+x9dRh8AV6KrJlOfBaD9XBx7aZLfDurTeoJzH8WwRlz1fmrtGAXcdj+QpgXmOTffwwJPuaBsihnAa4TmWFXZ6fohi2ns8PZolFdce3PCkFcUsSXqtcoMKPC2qqnfP8XboOWh5QQ8qRGBwB8nbeEuPYIcw5EoHawIRu+teejM4M6ZwhvYj75dTL93WI50MyUcs7im5GqeTAi7O50X/w+noX5Vbi4OtALqTO7RapNM8Jempe4kGW1CLlX/rbBeLGj8TbG2Zy+QBu2w3KtjPOn0HRQA0kdRv/gjvtmOrZ555M1wKOYrhxZyWHwC24AgaYDe+rkLI30nHvzpY5WyYbnHGs4az8efQtuVjY3RMUujyurbB43q3E1AsEEpGZE6uOOCEWE6uuvmPtEVkxYNPjovq3lUn4aFYzv+V1kzGw6rlt290tMxie7Tm8CGY9gKyUAz7GwV5LyB1Wz6LWqpIUxVnJ2oK5LqRBYln0x4l3w0mbE1odryT+hyovUlTlKEtLB6++rOoki9EINysZ9iI/gg5YGLiAcDhSW8J/Bj/hy+RygAOn6G3P6ly4jnQF63e+PHhmjx2bbugCUOH5mz3taVHR5ImF7DOGxyQtlDqTTNL+2sQW266jAKxP5uc4a+yhoE=
  on:
    branch: master
env:
  global:
  - secure: gQRmpMn1vrtOsG+g8xx1lVESD8U89wyf4V5jm9w5OgCldlqvy3NIp4f5Q4eJzWX7Z4RO4w43Zre7MEuV9kl/ObRuEnCqyPpZEx5ZR2jdygVji+fvXIuQI7GRiJC1DcYyd3/eA9w807uR2w5xH/CI+6YhQW9g7XkPIgtogO3Xym7xw5Nx+tyZm9zH0QaiohnBvWymMQX7MFLhsTdcbAKL5b5IpNFQ6jg5sxbcWWQVbeSqcDz4iH/rgpfyteVZNoK5wUxt0BJ+yodYW3nq7ME/NIgdCrPBRahQFOJb6wessj4dcmNCNZmvDnofdIZmt8kvLlFk/gSrvjxo8b3iFPh8HrG4750/o8BoWId7NFqsUanw0Jb67icWCl5dnYil/xzTtBV2urc99Koj6Oh1dg1xEIR5FOzXdxfSQOP+NHSPVkVaXodB+NiheiCBhXaWhCFYZRz48l8gKksRaKzhgF1mk4Grhiwtk/7RqB4oXkSKVXP9CdolA10Et/KK4h6a7cffRm7SGAdccNHH/W0RsEqpsQyoUdQqgw+6DiDRS3ypZp9K6TFXMLB4USUkvRZG878VMKAPVI8Vlp+lRobtDhp8lQUY65GK8NeBKswBFeCMRe05CxEbZ+C7PX3jZr2FRHF/YbO51SxaWEIsOYZGNuIl1NFsl7qW2GehQi5YYhsBrmU=
  - secure: hNDA0zlxE+Xn5b0UGDCUH6ZowtkCYwRKaI9rdwgKOTA2PC0OHzVxAEthfyaQ+iW2akRPmuaVbRLCyvGlTBabH1NUD7rcPBiQWNvUC72QyUIVPOPxwzqB4aNV+Ghgkl/ZjU9mW3onT2jWhUODwiXj+NsVrFhgFdk0fEzOu+7shlm/9wja+PZPDEDgro6Mp9AvZiDiRGWZWneOi5EYc9nYl4PNqNlZIvuCLrSaawHLB4l/3Za97f80pbwdr3ZWqXYQ9E5f7t1w2FGZYgz36HHt84GcOY+QaRrBGDjhMOdKR3EnT5oqGh6GLnbb47W+bKySc0baH/FzAaay4ZpUiVhhYkBXfCmXXedTa7XdQ30uEeG/VeexuH+ovTACugRyANbT0n5u0Jx2eEGOfatD98CWe29698BFdxoBtxxNnfbB1+XcVIOASIiKPmtuYrcoVXIoHhfISIZHGMoPXXvqlSGXaUwYN58QQMp5AZXJfVFcQ9hYspLasVb+COaxC88i8J4qflh6b9h8KB7O0C9dMQzar3qwSZv1Tex5HJF6dtKf6TBoovuVbzc5/WW5LDmmXbBsN/hHQCV5B1pALgLE7+AswKB+RCGgYivsivO/Gxj2aqygLm9N659nBJ2eQsQeBkycosszBnKUchgiiqjemJD391x6ZkPf2sksec+F3alvlVU=
  - secure: dEbESVDXKGQkQK6zHaWHIfYL46baIKkjzquJ9I3bCGF4ZgxpfEB7J0An1Ew4C0subrC0rjt8WX21RV9rj3yCAAhxqmMK4zcFHHx768oTI2kfHKOTNxu+70c3qClaqzrxvKPHgtUE64LwlLeA+pQK9ob2HS22iptlQY2MgvWbjxVAGTPmehom6OnyeIyQobDfkVaIoWZzlqYOs3BUfNKIEFhygNq9CR8IsjFgjkJYFTzN/Xhsz11tMl5CeBmnYAOOHspnqabcJqOdX1VHkYEGhAXNXHLmEGYbROooh239+XcLumZ3qJcotWl2XlsyWPpV7glV5g/E8bx+hkM9nLBOY2L5nmehRpd4G7h4TE9PTFU4CH9d54oY8mM6j7YEWQ+UTZI3HRMURiYhl7qUiSk5eglxVNnwrDN/bnzJ3BmpdAjyx3wpjAJbEFFF0XWg9a0Ehpdy1GGps7zcnbfOfz5tkEGh85k4qn969b5f4hBVSYoD4VEIfUhFlHG3atbIQcZeqfNnPOiyf24bpzpK3GhxXKOe+ErVSeu0N2Bw3mfQlIqWqYZBVLEZdgFF0njVrnbKVQxPTsz3wox/FtZNbN/OHcIPXOMRcnLKPj2yetl1AmCPUimiV6i6Msul2JXD1aV1qvz8302lJDidBnJNaSu2ufPkH5tweWNhTqVZfmA+HKU=
  - secure: kXb4o/XyxNRY8weLdPVjZaBclGPBsrvxjjsqA2+TE4DKK1znPqtcqcUoofNP0Z8rwuupLEb9abwmerY0VFOph6cHdwWWj/cWDTYaRMM58J8T8O0tNoX6ToWQw7Tq/Rlbpn2yOVDopq+wLVhgJ6tCNMRtebcFUaz7RNK3tj+BT0IvL/zdvF80LQ9OkOTna9nlwOdBZY+F9JZVzjzzsIQ990JKBb/A2ttnI3zP7/O3LsWuctJRM6t/kWJGEgdKlteG5Z6D9MArAZvQhwmduM1S//mJGulRUQUCZXUVQBg6phFe4y4lPopQSsuIvnSLo9QhF7xEXboQqdTILqSp0m159oTj3HwCA313jwBKiJbgmWt24byu7XmlMNjqzpywlLQcIT2mIZViwtd+eeGal548ZS379DbJ7xiqzT5j2OPwtvKxgzmKnzhNpnhBNHZ3R5F91xaSVAX36juHUn0OjDPZsN/sq2dyuH5NZnEHJ29DkxXnmDX/YjT6Qs+/vQ0ljq4O80lim2XvMYncvmMUxhZFGmivJmDJ12hF4r/o9hBhjiw1ltHlT8O/Ma4HRmarT2UdWwG58Gvu+4bm8GOvthGTIxdI7LNReAg5VEvVUVFbOOdjmBtcLnmd/NwvVFSAPYbV3lMJeWfsh6KlMyzGm4Q8S14W+4fQooj4HmQcuy8FpFc=
  - secure: LMSnUMKxOTBPg024M6eVgUpXPSpMLSCtaHqNwdSAHhYnY+igZy658Ay+XZLOP8bwYGv+npoVS89JUsFUv/7+rsmysoELVPCMkKqm7dd7AQPYoTSSz821eWQxnUzwnQvAd72EIJMo1ENgQJKl8HJWe68nxql37mM0zpnrUEqlFZw2xUEI1U9Du14hXsn572W1H9Ge878Oy6M8C3kX2oVZPcCPlSdvLB5VFBbyWTCdsi3LlCDRRz1qp2NtLmCL4QOf9r1IAWh3kUBpM8Prcv/xbhIyAuYT6rNIM3pqMLzPIRlqXP8XFiFCxNbuCI4DtppDxEbyoCVU/6mves7WfbMjS8jQVADEDa6S33mhtJlujBNOWS3XAnXlOxQMD45mHp3EI5jOrh/DYXIDX/MvKxGejK+HrKpUJpa5Vcw1x81ti/AAIltVA8P7oQEzur/+pWvNZmTK3HbaNO2slESYKhdf2R3NB9gQwer7nHr9AnxPIfcOfvKVI+DC0jKd4f5EjJOrwVfl/vbVVy1SRdnN3obCYndVHaMIaltI7ESS59KWqDcGPY4UESj4vixfOFBOfnFu3T7NpugXfNv6erJqHO4oLBV/5T4v8SDM8MbGMPW7PFHBM/mWkmtDQW5w5FOPm8x2MBV2SLL8oeVy0xKn8CCYS8iFnfXpyW+yQCdp3GQt6M8=
  - secure: CVs4YsZys0V8w+nmo0jV/ENzq78pUluozDJorOAXeYNsECvqjHWhBS845TI/W8MLJeM9ieuV+PoZcp/iASkdsUYavtYJWT3jhWycG2Cg9k/jHB2p2+E8G3gMS7EDsSFLuhTnAnbrBFdw7OSJURUZCF7cYO2yPy8V3js9oVK0XzoDNAk/OuFxhVNJkjQZWkk/qRap0u76noq6SwoMZrIcV01D82pLZC3so12haJpkDgTAKyJ+LkblPL+41grFUhdZxYHfnTnRzxLj1XlEoT9YwqQCr+m/Hl4I6OKQNAYJL2FUqfA36NJudnh5y6L/ci6ZLpAmxSVYLMJOhaym+0e3vRChCf44dlcQ8fNnfvpUWZvh0yInYf2bCz7QGQBMU6bcZmaa2C/dVr3kVrnMbiz8djMijo/7sz8+JWySM9I2XWEwk9wP2EpPtwUEG/1Y1Q6hnnT1NusiG9Iz0ZNB8ycwDeGoZ16d7L7FZD/F2Sv8if8+00QV7fAZP9JdqU46kRrD19/l9J3dKxFTy8NCPXDeMAA0TH/EBsiOl1UpJU0NX/NMra4LiS25MG3ruZVY85d4UqkTI5dt1S9d0yZwIletGFfbyGo8Ka1ENrmXs/lK2Dp/40jaRIKTj5b2CLi+KEKSyHFYBKOiAzSJrfbll7dqmfrAw7cmS0uH9QUc92U6aTc=


